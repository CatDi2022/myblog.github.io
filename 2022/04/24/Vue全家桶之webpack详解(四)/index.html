<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Vue全家桶之webpack详解(四) | Cat迪ღBLOG</title><meta name="keywords" content="Vue2.0,Vue-router,Vuex,Webpack,Vue Cli"><meta name="author" content="Cat迪"><meta name="copyright" content="Cat迪"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Vue 配套视频讲解: CoderWhy老师的Vuejs讲解  认识webpack 在ES6之前，我们相要进行模块化开发，就必须借助于其他的工具，让我们可以进行模块化开发 并且在通过模块化开发完成了项目后，还需要处理模块间的各种依赖，并且将其进行整合打包 而webpack其中一个核心就是让我们可能进行模块化开发，并且会帮助我们处理模块间的依赖关系。 而且不仅仅是 JavaScript 文件，我们的">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue全家桶之webpack详解(四)">
<meta property="og:url" content="http://example.com/2022/04/24/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6%E4%B9%8Bwebpack%E8%AF%A6%E8%A7%A3(%E5%9B%9B)/index.html">
<meta property="og:site_name" content="Cat迪ღBLOG">
<meta property="og:description" content="Vue 配套视频讲解: CoderWhy老师的Vuejs讲解  认识webpack 在ES6之前，我们相要进行模块化开发，就必须借助于其他的工具，让我们可以进行模块化开发 并且在通过模块化开发完成了项目后，还需要处理模块间的各种依赖，并且将其进行整合打包 而webpack其中一个核心就是让我们可能进行模块化开发，并且会帮助我们处理模块间的依赖关系。 而且不仅仅是 JavaScript 文件，我们的">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cn.vuejs.org/images/logo.svg">
<meta property="article:published_time" content="2022-04-24T05:02:11.000Z">
<meta property="article:modified_time" content="2022-04-25T10:19:19.777Z">
<meta property="article:author" content="Cat迪">
<meta property="article:tag" content="Vue2.0">
<meta property="article:tag" content="Vue-router">
<meta property="article:tag" content="Vuex">
<meta property="article:tag" content="Webpack">
<meta property="article:tag" content="Vue Cli">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cn.vuejs.org/images/logo.svg"><link rel="shortcut icon" href="/img/2.png"><link rel="canonical" href="http://example.com/2022/04/24/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6%E4%B9%8Bwebpack%E8%AF%A6%E8%A7%A3(%E5%9B%9B)/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/dd%E4%B8%AA%E4%BA%BA" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Vue全家桶之webpack详解(四)',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-04-25 18:19:19'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><!--引入樱花特效--><script src="/js/sakura.js"></script><meta name="generator" content="Hexo 5.4.2"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="./themes/butterfly/source/img/4.gif" data-original="/img/2.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">34</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fa fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fa fa-book"></i><span> 阅读</span></a></li><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-quote-left"></i><span> 说说</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cn.vuejs.org/images/logo.svg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Cat迪ღBLOG</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fa fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fa fa-book"></i><span> 阅读</span></a></li><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-quote-left"></i><span> 说说</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Vue全家桶之webpack详解(四)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-24T05:02:11.000Z" title="发表于 2022-04-24 13:02:11">2022-04-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-04-25T10:19:19.777Z" title="更新于 2022-04-25 18:19:19">2022-04-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Vue2-0-webpack/">Vue2.0-webpack</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Vue全家桶之webpack详解(四)"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h1><ul>
<li>配套视频讲解: <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV15741177Eh?from=search&seid=12220650172270950947&spm_id_from=333.337.0.0">CoderWhy老师的Vuejs讲解</a></li>
</ul>
<h1 id="认识webpack"><a href="#认识webpack" class="headerlink" title="认识webpack"></a>认识webpack</h1><ul>
<li>在ES6之前，我们相要进行模块化开发，就必须借助于其他的工具，让我们可以进行模块化开发</li>
<li>并且在通过模块化开发完成了项目后，还需要处理模块间的各种依赖，并且将其进行整合打包</li>
<li>而webpack其中一个核心就是让我们可能进行模块化开发，并且会帮助我们处理模块间的依赖关系。</li>
<li>而且不仅仅是 JavaScript 文件，我们的CSS、图片、json文件等等在webpack中都可以被当做模块来使用</li>
<li>这就是webpack模块化的概念</li>
</ul>
<h2 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h2><ul>
<li>理解了webpack可以帮助我们进行模块化，并且处理模块间的各种复杂关系后，打包的概念就非常好理解了</li>
<li>就是将webpack的各种资源模块进行打包整合成一个或多个包Bundle</li>
<li>并且在打包的过程中，还可以对资源进行处理，比如压缩图片，将scss转成css，将ES6语法转成ES5语法，将TypeScript转成JavaScript等等操作</li>
<li>但是打包的操作似乎 grunt/gulp 也可以帮助我们完成，它们有什么不同呢？</li>
</ul>
<h2 id="和grunt-gulp的对比"><a href="#和grunt-gulp的对比" class="headerlink" title="和grunt/gulp的对比"></a>和grunt/gulp的对比</h2><p><strong>grunt / gulp 的核心是 Task</strong></p>
<ul>
<li>我们可以配置一系列的 task，并且定义 task 要处理的事务(例如ES6,ts转化，图片压缩，scss转成css)</li>
<li>之后让 grunt / gulp 来依次执行这些 task，而且让整个流程自动化</li>
<li>所以 grunt / gulp 也被称为前端自动化任务管理工具</li>
</ul>
<p><strong>我们来看一个 gulp 的task</strong></p>
<ul>
<li>下面的 task 就是将 src 下面的所有 js 文件转成 ES5 的语法</li>
<li>并且最终输出到 dist 文件夹中</li>
</ul>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/6b963714abef4ef080b4f9570a9f023f.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_13,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<p><strong>什么时候用 grunt / gulp 呢？</strong></p>
<ul>
<li>如果你都工程模块依赖非常简单，甚至是没有用到模块化的概念</li>
<li>只需要进行简单的合并、压缩，就使用 grunt / gulp 即可</li>
<li>但是如果整个项目使用了模块化管理，而且相互依赖非常强，我们就可以使用更加强大的webpack了</li>
</ul>
<h2 id="安装webpack"><a href="#安装webpack" class="headerlink" title="安装webpack"></a>安装webpack</h2><p>安装webpack首先需要安装Node.js，Node.js自带了软件包管理工具npm</p>
<h3 id="安装node-js"><a href="#安装node-js" class="headerlink" title="安装node.js"></a>安装node.js</h3><ul>
<li>老师的版本是 10.13.0 ，我自身安装的是14.15.0版本，所以需要进行卸载</li>
<li>所有nodejs历史版本的链接： <a target="_blank" rel="noopener" href="https://nodejs.org/dist/">https://nodejs.org/dist/</a></li>
<li>找到10.13.0，里面是 nodejs V10.13.0所有类型安装文件<ul>
<li><code>.msi</code> 使用这个不用配置环境变量</li>
<li><code>.zip</code> 解压即可用，但是需要配置环境变量</li>
</ul>
</li>
<li>我这里下载 <code>.msi</code> 后缀文件</li>
<li>双击下载完成的 <code>node-v10.13.0-x64.msi</code> ,点击next</li>
</ul>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/174458f8fec7402fb3f9f3648d708907.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_16,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>勾选同意</li>
</ul>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/8964684e3f1b4d8fa3d8676bc89afa53.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_16,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>更改为你认为合适的安装路径</li>
</ul>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/5b4e8b09353c4edd960a5fd7cdf20edc.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_16,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>点击next<ul>
<li><code>npm package manage</code> 表示 npm包管理器</li>
<li><code>online documentation shortcuts</code> 在线文档快捷方式</li>
<li><code>Add to Path</code> 添加 node 安装路径到环境变量</li>
<li>这就是<code>.msi</code> 不需要手动添加环境变量的原因，node已经帮我们配置好了</li>
</ul>
</li>
</ul>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/34d85f06c34b485c92a7fc8abffe5d12.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_16,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>是否勾选工具去编译 native 模块，<strong>我们不勾选</strong></li>
</ul>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/1059ac0cfbd64b8cb47a26861d63a056.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_16,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>点击 install</li>
</ul>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/bff8a07ad427405896afdbe2796822e7.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_16,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>等待安装完毕</li>
</ul>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>使用管理员方式打开dos窗口，输入 <code>node -v</code></p>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/0d348d42927c44b2aafcd816f61d36e8.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<p>显示如图样式，则安装成功</p>
<h3 id="更改淘宝镜像"><a href="#更改淘宝镜像" class="headerlink" title="更改淘宝镜像"></a>更改淘宝镜像</h3><p>管理员方式打开DOS窗口，输入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<p>点击回车就更换成功了，可以通过</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config get registry</span><br></pre></td></tr></table></figure>

<p>上面命令去查看是否成功，如果返回是</p>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/0358f194be694064ac4d72d6295352a3.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<p>则更换成功</p>
<h3 id="全局安装webpack"><a href="#全局安装webpack" class="headerlink" title="全局安装webpack"></a>全局安装webpack</h3><ul>
<li>在DOS命令窗口中输入 <code>npm install webpack@3.6.0 -g</code> 安装webpack(这里指定版本号3.6.0，因为 vue cli2 依赖该版本)</li>
<li>其中的 -g 代表是全局安装，全局安装可以在电脑任何一个位置执行webpack指令</li>
<li>安装需要3~5分钟，之后出现可以让你输入的命令行就说明安装完成，如下图</li>
</ul>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/8f082bcade81496db8975c12118287ce.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li><p>在DOS命令窗口输入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack --version</span><br></pre></td></tr></table></figure></li>
<li><p>注意是两个横线</p>
</li>
</ul>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/e5b679476d784629aade0b172fed0853.png#pic_center" alt="在这里插入图片描述"></p>
<p>如果你看到3.6.0，说明你已经成功安装了webpack3.6.0</p>
<h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><p>首先创建如下文件和文件夹</p>
<ul>
<li><p><code>dist</code>文件夹： 用于存放之后打包的文件</p>
</li>
<li><p>```<br>src</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  文件夹： 用于存放我们写的源文件</span><br><span class="line"></span><br><span class="line">  - `main.js` 项目的入口文件</span><br><span class="line">  - `mathUtils.js` 定义了一些数学工具函数，可以在其他地方引用，并且使用。</span><br><span class="line"></span><br><span class="line">- `index.html` 浏览器打开展示的首页html</span><br><span class="line"></span><br><span class="line">- `package.json` 通过 `npm init` 生成的，npm 包管理的文件</span><br><span class="line"></span><br><span class="line">![在这里插入图片描述](https://img-blog.csdnimg.cn/22f9802338ca4cab862ae54020607e2c.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_12,color_FFFFFF,t_70,g_se,x_16#pic_center)</span><br><span class="line"></span><br><span class="line">## js文件的打包</span><br><span class="line"></span><br><span class="line">现在的 js 文件中使用了模块化的方式进行开发，他们可以直接使用吗？不可以。</span><br><span class="line"></span><br><span class="line">- 因为如果直接在 index.html 引入这两个 js 文件，浏览器并不识别其中的模块化代码。</span><br><span class="line">- 另外，在真实项目当中有许多这样的 js 文件时，我们一个个引用非常麻烦，并且后期非常不方便对它们进行管理</span><br><span class="line"></span><br><span class="line">我们应该使用webpack工具，对多个 js 文件进行打包</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">webpack src/main.js dist/bundle.js</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="使用打包后的文件"><a href="#使用打包后的文件" class="headerlink" title="使用打包后的文件"></a>使用打包后的文件</h2><p>打包后会在 <code>dist</code> 文件夹下，生成一个 <code>bundle.js</code> 文件</p>
<ul>
<li>此文件是 webpack 处理了项目直接文件依赖后生成的一个 js 文件，我们只需要将这个 js 文件在 index.html 中引入即可</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span> = <span class="string">&quot;./dist/bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p>例如，我们使用模块化开发两个js文件</p>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/47b37774941c487aa9fdf32f81738673.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<p>之后在 main.js 中进行引入两个js文件，在Termial终端使用 webpack 打包main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将src下的main.js 打包到dist目录下然后命名为bundle.js</span></span><br><span class="line">webpack src/main.<span class="property">js</span> dist/bundle.<span class="property">js</span></span><br></pre></td></tr></table></figure>

<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/78d7b2793cb84144bf68e9f5bb364529.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/e373a019da03469898a31b750b4735a1.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<p>所以我们就知道了，我们以后在 src 下开发，之后让 webpack 打包main.js，然后我们引用打包后的js文件，这就是我们的开发模式。</p>
<h1 id="webpack配置"><a href="#webpack配置" class="headerlink" title="webpack配置"></a>webpack配置</h1><h2 id="mode节点的可选值"><a href="#mode节点的可选值" class="headerlink" title="mode节点的可选值"></a>mode节点的可选值</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,		<span class="comment">// mode 用来指定构建模式,可选值有 development 和 production</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>mode 节点的可选值有两个，分别是：</p>
<ol>
<li>development<ul>
<li>开发环境</li>
<li>不会堆打包生成的文件进行代码压缩和性能优化</li>
<li>打包速度快，适合在开发阶段使用</li>
</ul>
</li>
<li>production<ul>
<li>生产环境</li>
<li>会对打包生成的文件进行代码压缩和性能优化</li>
<li>打包速度很慢，仅适合在项目发布阶段使用</li>
</ul>
</li>
</ol>
<h2 id="入口和出口"><a href="#入口和出口" class="headerlink" title="入口和出口"></a>入口和出口</h2><p>每次使用webpack的命令都需要写上入口和出口作为参数，非常麻烦，有没有一种方法可以将者两个参数写到配置中，在运行时，直接读取呢？</p>
<ul>
<li><p>当然可以，就是创建一个</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack.config.js</span><br></pre></td></tr></table></figure>

<p>文件</p>
<ul>
<li>通过 entry 节点指定打包的入口</li>
<li>通过 output 节点指定打包的出口</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="comment">// 入口:可以是字符串/数组/对象，我们这里的入口只有一个，所以写一个字符串即可</span></span><br><span class="line">    <span class="attr">entry</span>: <span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">    <span class="comment">// entry: path.join(__dirname,&#x27;./src/index.js&#x27;)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 出口:通常是一个对象,里面至少包含两个重要属性,path 和 filename</span></span><br><span class="line">    output :&#123;</span><br><span class="line">        <span class="comment">// 注意: path通常是一个绝对路径</span></span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname,<span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">        <span class="comment">// 输出文件目录</span></span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样配置之后我们用 webpack 打包时，就可以直接在终端输入 <code>webpack</code> ，就相当于 <code>webpack src/main.js dist/bundle.js</code> ,虽然看起来简洁，但是这不是我们最终的方式，我们最好的方式在下方有记录</p>
<p>webpack.config.js是 webpack 的配置文件。 webpack 在真正开始打包构建之前，会先读取这个配置文件 ， 从而基于给定的配置，对项目进行打包。</p>
<p><strong>注意</strong>：由于 webpack 是基于 node.js 开发出来的打包工具，因此在它的配置文件中，支持使用 node.js 相关的语法和模块进行webpack 的</p>
<h2 id="局部安装webpack"><a href="#局部安装webpack" class="headerlink" title="局部安装webpack"></a>局部安装webpack</h2><p>既然已经全局安装了 webpack，为什么还要局部安装呢？这是因为我们需要的项目可能是从网上下载下来的，项目中使用的webpack和我们本地的webpack可能版本不同，这就需要在局部安装webpack了</p>
<p>目前，我们使用的webpack是全局的webpack，如果我们想使用局部来打包呢？</p>
<ul>
<li>因为一个项目往往依赖特定的webpack版本，全局的版本可能很这个项目的webpack版本不一致，导出打包出现问题。</li>
<li>所以通常一个项目，都有自己局部的webpack。</li>
</ul>
<p>第一步，项目中需要安装自己局部的webpack</p>
<ul>
<li>这里我们让局部安装安装 webpack3.6.0</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack@3.6.0 --save-dev</span><br></pre></td></tr></table></figure>

<h2 id="package-json中定义启动"><a href="#package-json中定义启动" class="headerlink" title="package.json中定义启动"></a>package.json中定义启动</h2><p>但是，每次执行都敲这么一长串有没有觉得不方便呢？OK，我们可以在package.json的scripts中定义自己的执行脚本。</p>
<ul>
<li>package.json中的scripts的脚本在执行时，会按照一定的顺序寻找命令对应的位置。</li>
<li>首先，会寻找本地的 node_modules/.bin 路径中对应的命令。</li>
<li>如果没有找到，会去全局的环境变量中寻找</li>
</ul>
<p>在 package.json 文件下有 scripts ，是脚本的意思，我们只需要在下方配置脚本</p>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/5d72557f53334d0aa38fd1c140e2a664.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<p>这样配置完成之后，我们在终端输入 <code>npm run build</code> 也就相当于执行 <code>webpack</code> ，也就相当于执行 <code>webpack src/main.js dist/bundle.js</code></p>
<h1 id="webpack中的loader"><a href="#webpack中的loader" class="headerlink" title="webpack中的loader"></a>webpack中的loader</h1><p>在实际开发过程中， webpack 默认只能打包处理以 .js 后缀名结尾的模块。其他 非 .js 后缀名结尾的模块 ， webpack 默认处理不了， 需要调用 loader 加载器才可以正常打包 ，否则会报错</p>
<p>loader加载器的作用： 协助 webpack 打包处理特定的文件模块 。比如：</p>
<ul>
<li>css-loader 可以打包处理 .css 相关的文件</li>
<li>less-loader 可以打包处理 .less 相关的文件</li>
<li>babel-loader 可以打包处理 webpack 无法处理的高级 JS 语法</li>
</ul>
<h2 id="css-loader"><a href="#css-loader" class="headerlink" title="css-loader"></a>css-loader</h2><ul>
<li>loader是webpack中一个非常核心的概念。</li>
</ul>
<p>webpack用来做什么呢？</p>
<ul>
<li>在我们之前的实例中，我们主要是用webpack来处理我们写的js代码，并且webpack会自动处理js之间相关的依赖。</li>
<li>但是，在开发中我们不仅仅有基本的js代码处理，我们也需要加载css、图片，也包括一些高级的将ES6转成ES5代码，将TypeScript转成ES5代码，将scss、less转成css，将.jsx、.vue文件转成js文件等等。</li>
<li>对于webpack本身的能力来说，对于这些转化是不支持的。</li>
<li>那怎么办呢？给webpack扩展对应的 loader 就可以啦。</li>
</ul>
<p>loader使用过程：</p>
<ul>
<li><strong>步骤一：通过 npm 安装需要使用的 loader</strong></li>
<li><strong>步骤二：在 webpack.config.js 中的 modules 关键字下进行配置</strong></li>
</ul>
<h3 id="css文件处理准备工作"><a href="#css文件处理准备工作" class="headerlink" title="css文件处理准备工作"></a>css文件处理准备工作</h3><p>项目开发过程中，我们必然需要添加很多的样式，而样式我们往往写到一个单独的文件中。</p>
<ol>
<li>在src目录中，创建一个css文件，其中创建一个normal.css文件。</li>
<li>我们也可以重新组织文件的目录结构，将零散的js文件放在一个js文件夹中。</li>
<li>normal.css 中的代码非常简单，就是将body设置为red</li>
<li>在webpack中文网中有 loader的用法：<a target="_blank" rel="noopener" href="https://www.webpackjs.com/">https://www.webpackjs.com/</a></li>
</ol>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/329ce7c1938144afb60988533651641c.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>css 文件的打包需要用到 style-loader，css-loader</li>
</ul>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/a090e7e0d2474b2fab6d8dc5318d4a79.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>先安装 style-loader，再安装 css-loader</li>
</ul>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/c9ba14f902e54f948f5a7a767966d575.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>之后在 main.js 引用我们自己的 css 文件，再打包即可</li>
</ul>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/32503821062b4e07b5d82368c952b684.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<p>总结步骤：</p>
<ol>
<li>首先安装 style-loader 和 css-loader</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev css-loader</span><br><span class="line">npm install style-loader --save-dev</span><br></pre></td></tr></table></figure>

<ol>
<li>在 webpack.config.js 的 module-&gt; rules 数组中，添加loader规则如下</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">module</span>: &#123;			<span class="comment">// 所有第三方文件模块的匹配规则</span></span><br><span class="line">    <span class="attr">rules</span>: [		<span class="comment">// 文件后缀名的匹配规则</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [ <span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span> ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>其中， test 表示匹配的文件类型，use 表示对应要调用的 loader</p>
<p>注意：</p>
<ul>
<li>use 数组中指定的 loader <strong>顺序是固定的</strong></li>
<li>多个 loader 的调用顺序是：<strong>从后往前调用</strong></li>
</ul>
<h2 id="less-loader"><a href="#less-loader" class="headerlink" title="less-loader"></a>less-loader</h2><p>如果我们希望在项目中使用less、scss、stylus来写样式，webpack是否可以帮助我们处理呢？</p>
<p>我们这里以less为例，其他也是一样的。</p>
<p>我们还是先创建一个less文件，依然放在css文件夹中</p>
<ol>
<li>继续在中文文档里面查看 less-loader 的用法</li>
</ol>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/d727b39414394d9f8db791981c19b1c9.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<ol>
<li>在 main.js 中进行引用即可</li>
<li>打包</li>
</ol>
<h2 id="图片文件处理"><a href="#图片文件处理" class="headerlink" title="图片文件处理"></a>图片文件处理</h2><p>首先，我们在项目中加入两张图片：</p>
<ul>
<li>一张较小的图片test01.jpg(小于8kb)，一张较大的图片test02.jpeg(大于8kb)</li>
<li>我们会针对这两张图片进行不同的处理</li>
<li>我们先考虑在css样式中引用图片的情况，所以更改 normal.css 中的样式，就是使用背景图片</li>
</ul>
<h3 id="url-loader"><a href="#url-loader" class="headerlink" title="url-loader"></a>url-loader</h3><p>图片处理</p>
<ol>
<li>我们使用 url-loader 来处理，依然先安装 url-loader，然后在 webpack.config.js 中进行配置</li>
</ol>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/c5db66ba509044018ae324e8c72cfc02.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<p>再次打包，运行 index.html，就会发现我们的就会发现我们的背景图片显示出来。而仔细观察，你会发现背景图是通过base64显示出来的，这也是limit属性的作用，当图片小于8kb时，对图片进行base64编码</p>
<ul>
<li>当加载的图片, 小于limit时, 会将图片编译成base64字符串形式.</li>
<li>当加载的图片, 大于limit时, 需要使用file-loader模块进行加载.</li>
</ul>
<h3 id="file-loader"><a href="#file-loader" class="headerlink" title="file-loader"></a>file-loader</h3><p>大于 limit 的图片，会通过file-loader进行处理</p>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/caf1d62448704e9c8227fab0cbc49e92.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<h3 id="修改图片名称和路径"><a href="#修改图片名称和路径" class="headerlink" title="修改图片名称和路径"></a>修改图片名称和路径</h3><p>我们发现webpack自动帮助我们生成一个非常长的名字，这是一个32位hash值，目的是防止名字重复，但是，真实开发中，我们可能对打包的图片名字有一定的要求，比如，将所有的图片放在一个文件夹中，跟上图片原来的名称，同时也要防止重复。</p>
<p>所以，我们可以在options中添加上如下选项：</p>
<ul>
<li>img：文件要打包到的文件夹</li>
<li>name：获取图片原来的名字，放在该位置</li>
<li>hash:8：为了防止图片名称冲突，依然使用hash，但是我们只保留8位</li>
<li>ext：使用图片原来的扩展名</li>
</ul>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/e1869a524a36461cbfaca77748038d41.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<p>另外，默认情况下，webpack 会将生成的路径直接返回给使用者，但是，我们整个程序是打包在 dist 文件夹下的，所以需要在路径下添加 dist/ （是在出口函数处使用<code>publicPath</code> 设置）</p>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/d6332cfd6daf4fe7a782855a2d268436.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_19,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<h2 id="babel-loader"><a href="#babel-loader" class="headerlink" title="babel-loader"></a>babel-loader</h2><p>webpack只能打包处理一部分 高级的 JavaScript 语法。对于那些 webpack 无法处理的高级 js 语法，需要借助于 babelbabel-loader 进行打包处理。</p>
<p>如果希望将ES6的语法转成ES5，那么就需要使用 babel-loader 进行打包处理</p>
<ol>
<li>安装 babel-loader</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D babel-loader @babel/core @babel/preset-env webpack</span><br></pre></td></tr></table></figure>

<ol>
<li>配置 webpack.config.js 文件</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">module</span>: &#123;</span><br><span class="line">  <span class="attr">rules</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">test</span>: <span class="regexp">/\.m?js$/</span>,</span><br><span class="line">      <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</span><br><span class="line">      <span class="attr">use</span>: &#123;</span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">        <span class="attr">options</span>: &#123;</span><br><span class="line">          <span class="attr">presets</span>: [</span><br><span class="line">            [<span class="string">&#x27;@babel/preset-env&#x27;</span>, &#123; <span class="attr">targets</span>: <span class="string">&quot;defaults&quot;</span> &#125;]</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>重新打包，查看bundle.js文件，发现其中的内容变成了ES5的语法</li>
</ol>
<h1 id="webpack中的插件"><a href="#webpack中的插件" class="headerlink" title="webpack中的插件"></a>webpack中的插件</h1><ul>
<li>plugin是插件的意思，通常是用于对某个现有的架构进行扩展。</li>
<li>webpack中的插件，就是对webpack现有功能的各种扩展，比如打包优化，文件压缩等等</li>
</ul>
<p>loader 和 plugin 区别？</p>
<ul>
<li>loader主要用于转换某些类型的模块，它是一个转换器。</li>
<li>plugin是插件，它是对webpack本身的扩展，是一个扩展器。</li>
</ul>
<p>plugin 使用步骤：</p>
<ul>
<li>步骤一：通过npm安装需要使用的plugins(某些webpack已经内置的插件不需要安装)</li>
<li>步骤二：在webpack.config.js中的plugins中配置插件</li>
</ul>
<h2 id="添加版权的plugin"><a href="#添加版权的plugin" class="headerlink" title="添加版权的plugin"></a>添加版权的plugin</h2><ul>
<li>该插件的名字叫做 BannerPlugin，属于 webpack 自带的插件。</li>
</ul>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/75d48ea97f3c4287ad40b8dad46469eb.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<p>步骤如下：</p>
<ol>
<li>在 webpack.config.js 中导入 webpack</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>);</span><br></pre></td></tr></table></figure>

<ol>
<li>配置在 plugins 中</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">	...</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">		<span class="keyword">new</span> webpack.<span class="title class_">BannerPlugin</span>(<span class="string">&#x27;最终版权归aaa所有&#x27;</span>)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="打包html的plugin"><a href="#打包html的plugin" class="headerlink" title="打包html的plugin"></a>打包html的plugin</h2><p>目前，我们的index.html文件是存放在项目的根目录下的。我们知道，在真实发布项目时，发布的是dist文件夹中的内容，但是dist文件夹中如果没有index.html文件，那么打包的js等文件也就没有意义了。所以，我们需要将index.html文件打包到dist文件夹中，这个时候就可以使用<code>html-webpack-plugin</code>插件</p>
<p>html-webpack-plugin 插件可以为我们做这些事情：</p>
<ul>
<li>自动生成一个index.html文件(可以指定模板来生成)</li>
<li>将打包的js文件，自动通过script标签插入到body中</li>
</ul>
<ol>
<li>安装</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nom install html-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure>

<ol>
<li>在 webpack.config.js 中导入 HTML 插件</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ol>
<li>使用插件，修改webpack.config.js文件中plugins部分的内容如下<ul>
<li>这里的template表示根据什么模板来生成 index.html</li>
<li>另外，我们需要删除之前在output中添加的publicPath属性，否则插入的script标签中的src可能会有问题</li>
</ul>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.导入HTML插件,得到一个构造函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="comment">// 2.创建HTML插件的实例对象</span></span><br><span class="line"><span class="keyword">const</span> htmlPlugin = <span class="keyword">new</span> <span class="title class_">HtmlPlugin</span>(&#123;</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;./src/index.html&#x27;</span>,	<span class="comment">// 指定原文件的存放路径</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;./index.html&#x27;</span>,		<span class="comment">// 指定生成的文件的存放路径</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">	<span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">    <span class="attr">plugins</span>: [htmlPlugin],		<span class="comment">// 通过 plugins 节点,使 htmlPlugin 插件生效</span></span><br><span class="line">		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="webpack-dev-server"><a href="#webpack-dev-server" class="headerlink" title="webpack-dev-server"></a>webpack-dev-server</h2><p>webpack提供了一个可选的本地开发服务器，这个本地服务器基于node.js搭建，内部使用express框架，可以实现我们想要的让浏览器自动刷新显示我们修改后的结果。</p>
<p>类似于 node.js 阶段用到的 nodemon 工具，每当修改了源代码， webpack 会自动进行项目的打包和构建</p>
<ol>
<li>它是一个单独的模块，在webpack中使用之前需要先安装它</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack-dev-server</span><br></pre></td></tr></table></figure>

<ol>
<li><p>修改 package.json -&gt; scripts 中的 dev 命令</p>
<p>open参数表示直接打开浏览器，不加 <code>--open</code> 表示不自动打开服务器</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;dev&quot;: &quot;webpack-dev-server --open&quot;</span><br></pre></td></tr></table></figure>

<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/2700fe100bcf4ec8aa168d4f36596aa6.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<p>之后我们就可以通过 <code>npm run dev</code> 来修改我们的代码，而不需要每次修改完代码都进行打包，修改测试完成再通过 <code>npm run build</code> 打包</p>
<ol>
<li>devserver 节点也是作为webpack中的一个选项，选项本身可以设置如下属性，可以对插件进行更多的配置</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    ...</span><br><span class="line">    ...</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">contentBase</span>: <span class="string">&#x27;./dist&#x27;</span>,	<span class="comment">// 为哪一个文件夹提供本地服务，默认是根文件夹，我们这里要填写./dist</span></span><br><span class="line">        <span class="attr">open</span>: <span class="literal">true</span>,				<span class="comment">// 自动打开浏览器</span></span><br><span class="line">        <span class="attr">host</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,		<span class="comment">// 实时打包所使用的主机地址</span></span><br><span class="line">        <span class="attr">port</span>: <span class="string">&#x27;80&#x27;</span>,				<span class="comment">// 实时打包所使用的端口号,默认是 8080</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/f8af7da6a50447e2810013a9b3731736.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<p>注意：凡是修改了 webpack.config.js 配置文件，或修改了 package.json 配置文件，必须重启实时打包的服务器，否则最新的配置文件无法生效。</p>
<h2 id="js压缩的Plugin"><a href="#js压缩的Plugin" class="headerlink" title="js压缩的Plugin"></a>js压缩的Plugin</h2><p>我们使用一个第三方的插件 <code>uglifyjs-webpack-plugin</code>，并且版本号指定</p>
<ol>
<li>下载</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install uglifyjs-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure>

<ol>
<li>修改 webpack.config.js 文件，使用插件</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">	...</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">		<span class="keyword">new</span> <span class="title class_">UglifyjsWebpackPlugin</span>()</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>查看打包后的bunlde.js文件，是已经被压缩过了。</li>
</ol>
<h1 id="打包发布"><a href="#打包发布" class="headerlink" title="打包发布"></a>打包发布</h1><p>项目开发完成之后 ，需要使用 webpack 对项目进行打包发布 ，主要原因有以下两点：</p>
<ol>
<li>开发环境下，打包生成的文件存放于内存中 ，无法获取到最终打包生成的文件</li>
<li>开发环境下，打包生成的文件 不会进行代码压缩和性能优化</li>
</ol>
<p>为了让项目能够在生产环境中高性能的运行，因此需要对项目进行打包发布。</p>
<h2 id="配置webpack的打包发布"><a href="#配置webpack的打包发布" class="headerlink" title="配置webpack的打包发布"></a>配置webpack的打包发布</h2><p>在 package.json 文件的 scripts 节点下，新增 build 命令如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">&quot;script&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;webpack serve&quot;</span>,		<span class="comment">// 开发环境中,运行dev命令</span></span><br><span class="line">        <span class="string">&quot;build&quot;</span>: <span class="string">&quot;webpack --mode production&quot;</span>	<span class="comment">// 项目发布时,运行 build 命令 </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>-- model</code> 是一个参数项，用来指定 webpack 的运行模式 。production 代表生产环境，会对打包生成的文件<br>进行<strong>代码压缩和性能优化</strong> 。</p>
<p>注意：通过 <code>-- model</code> 指定的参数项，会覆盖 webpack.config.js 中的 model 选项</p>
<h2 id="把JavaScript文件统一生成到js目录中"><a href="#把JavaScript文件统一生成到js目录中" class="headerlink" title="把JavaScript文件统一生成到js目录中"></a>把JavaScript文件统一生成到js目录中</h2><p>在 webpack.config.js 配置文件的 output 节点中，进行如下的配置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="comment">// 入口:可以是字符串/数组/对象，我们这里的入口只有一个，所以写一个字符串即可</span></span><br><span class="line">    <span class="attr">entry</span>: path.<span class="title function_">join</span>(__dirname,<span class="string">&#x27;./src/index.js&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 出口:通常是一个对象,里面至少包含两个重要属性,path 和 filename</span></span><br><span class="line">    output :&#123;</span><br><span class="line">        <span class="comment">// 注意: path通常是一个绝对路径</span></span><br><span class="line">        <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname,<span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">        <span class="comment">// 明确告诉 webpack 把生成的 bundle.js 文件存放到 dist 目录下的 js 子目录中</span></span><br><span class="line">        <span class="attr">filename</span>: <span class="string">&#x27;js/bundle.js&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="把图片文件统一生成到-image-目录中"><a href="#把图片文件统一生成到-image-目录中" class="headerlink" title="把图片文件统一生成到 image 目录中"></a>把图片文件统一生成到 image 目录中</h2><p>修改 webpack.config.js 中的 url-loader 配置项，新增 <code>outputPath</code> 选项即可指定图片文件的输出路径</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">test</span>: <span class="regexp">/\.jpg|png|gif$/</span>,</span><br><span class="line">    <span class="attr">use</span>: &#123;</span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">        <span class="attr">options</span>: &#123;</span><br><span class="line">            <span class="attr">limit</span>: <span class="number">22228</span>,</span><br><span class="line">            <span class="comment">// 明确指定把打包生成的图片文件,存储到 dist 目录下的 image 文件夹中    </span></span><br><span class="line">            <span class="attr">outputPath</span>: <span class="string">&#x27;image&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="自动清理-dist-目录下的旧文件"><a href="#自动清理-dist-目录下的旧文件" class="headerlink" title="自动清理 dist 目录下的旧文件"></a>自动清理 dist 目录下的旧文件</h2><p>为了在每次打包发布时自动清理掉 dist 目录中的旧文件 ，可以安装并配置 <code>clean-webpack-plugin</code> 插件</p>
<ol>
<li>安装插件</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install clean-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure>

<ol>
<li>按需导入插件，得到插件的构造函数后，创建插件的实例对象</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;<span class="title class_">CleanWebpackPlugin</span>&#125; = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> cleanPlugin = <span class="keyword">new</span> <span class="title class_">CleanWebpackPlugin</span>()</span><br></pre></td></tr></table></figure>

<ol>
<li>把创建的 cleanPlugin 插件实例对象挂载到 plugins 节点中</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.导入清理插件插件,得到插件的构造函数后，创建插件的实例对象</span></span><br><span class="line"><span class="keyword">const</span> &#123;<span class="title class_">CleanWebpackPlugin</span>&#125; = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="comment">// 2.创建HTML插件的实例对象</span></span><br><span class="line"><span class="keyword">const</span> cleanPlugin = <span class="keyword">new</span> <span class="title class_">CleanWebpackPlugin</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.把创建的 cleanPlugin 插件实例对象,挂载到 plugins 节点中,使插件生效</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">	<span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">    <span class="attr">plugins</span>: [htmlPlugin,cleanPlugin],		<span class="comment">// 挂载插件</span></span><br><span class="line">		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Source-Map"><a href="#Source-Map" class="headerlink" title="Source Map"></a>Source Map</h1><h2 id="生产环境遇到的问题"><a href="#生产环境遇到的问题" class="headerlink" title="生产环境遇到的问题"></a>生产环境遇到的问题</h2><p>前端项目在投入生产环境之前，都需要对JavaScript 源代码进行 压缩混淆 ，从而减小文件的体积，提高文件的加载效率。此时就不可避免的产生了另一个问题：</p>
<ul>
<li>对压缩混淆之后的代码除错（debug）是一件极其困难的事情</li>
<li>变量被替换成 没有任何语义 的名称</li>
<li>空行和注释被剔除</li>
</ul>
<h2 id="什么是SourceMap"><a href="#什么是SourceMap" class="headerlink" title="什么是SourceMap"></a>什么是SourceMap</h2><ul>
<li>Source Map就是一个信息文件，里面储存着位置信息</li>
<li>也就是说， Source Map 文件中存储着压缩混淆后的代码所对应的转换前的位置 。</li>
<li>有了它，出错的时候，除错工具将直接显示原始代码 ，而不是转换后的代码 ，能够极大的方便后期的调试。</li>
</ul>
<h3 id="webpack-开发环境下的-Source-Map"><a href="#webpack-开发环境下的-Source-Map" class="headerlink" title="webpack 开发环境下的 Source Map"></a>webpack 开发环境下的 Source Map</h3><p>在开发环境下，webpack 默认启用了 Source Map 功能。当程序运行出错时，可以直接在控制台提示错误行的位置，并定位到具体的源代码。</p>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/5bf8098aecff4e44b4e64b29028ba98e.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<h3 id="默认Source-Map的问题"><a href="#默认Source-Map的问题" class="headerlink" title="默认Source Map的问题"></a>默认Source Map的问题</h3><p>开发环境下默认生成的 SourceMap ，记录的是 生成后的代码的位置 。会导致运行时报错的行数与源代码的行数不一致的问题。示意图如下：</p>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/609e1e5913bf49cfa17b4e09ef6f004a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<h3 id="解决默认Source-Map的问题"><a href="#解决默认Source-Map的问题" class="headerlink" title="解决默认Source Map的问题"></a>解决默认Source Map的问题</h3><p>开发环境下，推荐在 webpack.config.js 中添加如下的配置，即可保证运行时报错的行数与源代码的行数保持一致</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">    <span class="comment">// eval-source-map 仅限在&#x27;开发模式&#x27;下使用,不建议在 &#x27;生产模式&#x27;下使用。</span></span><br><span class="line">    <span class="comment">// 此选项生产的 Source Map 能够保证运行时报错的行数与源代码的行数保持一致</span></span><br><span class="line">    <span class="attr">devtool</span>: <span class="string">&#x27;eval-source-map&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="webpack生产环境下的SourceMap"><a href="#webpack生产环境下的SourceMap" class="headerlink" title="webpack生产环境下的SourceMap"></a>webpack生产环境下的SourceMap</h2><p>在生产环境下 ，如果省略了 devtool 选项 ，则最终生成的文件中不包含 Source Map 。这能够防止原始代码通过Source Map 的形式暴露给别有所图之人。</p>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/e54a8f7c119c45b2865a360a97ed45e1.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<h3 id="只定位行数不暴露源码"><a href="#只定位行数不暴露源码" class="headerlink" title="只定位行数不暴露源码"></a>只定位行数不暴露源码</h3><p>在生产环境下，如果 只想定位报错的具体行数 ，且不想暴露源码 。此时可以将 devtool 的值设置为<code>nosources-source-map</code> 。实际效果如图所示：</p>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/ad8eca4d223d43e68f59ad233ea382fb.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<h3 id="定位行数且暴露源码"><a href="#定位行数且暴露源码" class="headerlink" title="定位行数且暴露源码"></a>定位行数且暴露源码</h3><p>在生产环境下，如果想在定位报错行数的同时，展示具体报错的源码。此时可以将 devtool 的值设置为 <code>source-map</code>。实际效果如图所示：</p>
<p><img src="./themes/butterfly/source/img/4.gif" data-original="https://img-blog.csdnimg.cn/7208dcbe753145648ac288951da28fc8.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA55Sf5ZG95piv5pyJ5YWJ55qE,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"></p>
<h2 id="Source-Map最佳实践"><a href="#Source-Map最佳实践" class="headerlink" title="Source Map最佳实践"></a>Source Map最佳实践</h2><ol>
<li>开发环境下<ul>
<li>建议把 devtool 的值设置为 <code>eval-source-map</code></li>
<li>好处：可以精准定位到具体的错误行</li>
</ul>
</li>
<li>生产环境下<ul>
<li>建议关闭 Source Map 或将 devtool 的值设置为 <code>nosources-source-map</code></li>
<li>好处：放置源码泄露，提高网站的安全性</li>
</ul>
</li>
</ol>
<hr>
<p>总结：实际开发中不需要自己配置webpack</p>
<ul>
<li>实际开发中会使命令行工具（俗称 CLI）一键生成 带有 webpack 的项目</li>
<li>开箱即用，所有 webpack 配置项都是现成的</li>
<li>但是我们仍需要了解配置项的基本概念</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Cat迪</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/04/24/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6%E4%B9%8Bwebpack%E8%AF%A6%E8%A7%A3(%E5%9B%9B)/">http://example.com/2022/04/24/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6%E4%B9%8Bwebpack%E8%AF%A6%E8%A7%A3(%E5%9B%9B)/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Cat迪ღBLOG</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue2-0/">Vue2.0</a><a class="post-meta__tags" href="/tags/Vue-router/">Vue-router</a><a class="post-meta__tags" href="/tags/Vuex/">Vuex</a><a class="post-meta__tags" href="/tags/Webpack/">Webpack</a><a class="post-meta__tags" href="/tags/Vue-Cli/">Vue Cli</a></div><div class="post_share"><div class="social-share" data-image="https://cn.vuejs.org/images/logo.svg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/04/24/vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/"><img class="prev-cover" src="./themes/butterfly/source/img/4.gif" data-original="https://cn.vuejs.org/images/logo.svg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Vue3快速上手</div></div></a></div><div class="next-post pull-right"><a href="/2022/04/24/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6%E4%B9%8BVue-router%E8%B7%AF%E7%94%B1(%E4%BA%94)/"><img class="next-cover" src="./themes/butterfly/source/img/4.gif" data-original="https://cn.vuejs.org/images/logo.svg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Vue全家桶之Vue-router路由(五)</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/04/24/vue%20cli%E7%AC%94%E8%AE%B0/" title="Vue cli笔记"><img class="cover" src="./themes/butterfly/source/img/4.gif" data-original="https://cn.vuejs.org/images/logo.svg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-24</div><div class="title">Vue cli笔记</div></div></a></div><div><a href="/2022/04/24/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6%E4%B9%8BVueCLI%20%E8%84%9A%E6%89%8B%E6%9E%B6V2%E2%86%92V4%E7%89%88%E6%9C%AC(%E4%B8%89)/" title="Vue全家桶之VueCLI 脚手架V2→V4版本(三)"><img class="cover" src="./themes/butterfly/source/img/4.gif" data-original="https://cn.vuejs.org/images/logo.svg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-24</div><div class="title">Vue全家桶之VueCLI 脚手架V2→V4版本(三)</div></div></a></div><div><a href="/2022/04/24/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6%E4%B9%8BVue-router%E8%B7%AF%E7%94%B1(%E4%BA%94)/" title="Vue全家桶之Vue-router路由(五)"><img class="cover" src="./themes/butterfly/source/img/4.gif" data-original="https://cn.vuejs.org/images/logo.svg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-24</div><div class="title">Vue全家桶之Vue-router路由(五)</div></div></a></div><div><a href="/2022/04/24/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6%E4%B9%8BVueX(%E5%85%AD)/" title="Vue全家桶之VueX(六)"><img class="cover" src="./themes/butterfly/source/img/4.gif" data-original="https://cn.vuejs.org/images/logo.svg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-24</div><div class="title">Vue全家桶之VueX(六)</div></div></a></div><div><a href="/2022/04/24/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6%E4%B9%8BVue%E5%9F%BA%E7%A1%80%E6%8C%87%E4%BB%A4(%E4%B8%80)/" title="Vue全家桶之Vue基础指令(一)"><img class="cover" src="./themes/butterfly/source/img/4.gif" data-original="https://cn.vuejs.org/images/logo.svg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-24</div><div class="title">Vue全家桶之Vue基础指令(一)</div></div></a></div><div><a href="/2022/04/24/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6%E4%B9%8BVue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91(%E4%BA%8C)/" title="Vue全家桶之Vue组件化开发(二)"><img class="cover" src="./themes/butterfly/source/img/4.gif" data-original="https://cn.vuejs.org/images/logo.svg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-24</div><div class="title">Vue全家桶之Vue组件化开发(二)</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="./themes/butterfly/source/img/4.gif" data-original="/img/2.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Cat迪</div><div class="author-info__description">欢迎来到"我的世界"</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">34</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的世界</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue"><span class="toc-number">1.</span> <span class="toc-text">Vue</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86webpack"><span class="toc-number">2.</span> <span class="toc-text">认识webpack</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8C%85"><span class="toc-number">2.1.</span> <span class="toc-text">打包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%92%8Cgrunt-gulp%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">2.2.</span> <span class="toc-text">和grunt&#x2F;gulp的对比</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85webpack"><span class="toc-number">2.3.</span> <span class="toc-text">安装webpack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85node-js"><span class="toc-number">2.3.1.</span> <span class="toc-text">安装node.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-number">2.3.2.</span> <span class="toc-text">测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E6%B7%98%E5%AE%9D%E9%95%9C%E5%83%8F"><span class="toc-number">2.3.3.</span> <span class="toc-text">更改淘宝镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%AE%89%E8%A3%85webpack"><span class="toc-number">2.3.4.</span> <span class="toc-text">全局安装webpack</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-number">3.</span> <span class="toc-text">准备工作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%89%93%E5%8C%85%E5%90%8E%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">3.1.</span> <span class="toc-text">使用打包后的文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.2.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack%E9%85%8D%E7%BD%AE"><span class="toc-number">4.</span> <span class="toc-text">webpack配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#mode%E8%8A%82%E7%82%B9%E7%9A%84%E5%8F%AF%E9%80%89%E5%80%BC"><span class="toc-number">4.1.</span> <span class="toc-text">mode节点的可选值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A5%E5%8F%A3%E5%92%8C%E5%87%BA%E5%8F%A3"><span class="toc-number">4.2.</span> <span class="toc-text">入口和出口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%AE%89%E8%A3%85webpack"><span class="toc-number">4.3.</span> <span class="toc-text">局部安装webpack</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#package-json%E4%B8%AD%E5%AE%9A%E4%B9%89%E5%90%AF%E5%8A%A8"><span class="toc-number">4.4.</span> <span class="toc-text">package.json中定义启动</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack%E4%B8%AD%E7%9A%84loader"><span class="toc-number">5.</span> <span class="toc-text">webpack中的loader</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#css-loader"><span class="toc-number">5.1.</span> <span class="toc-text">css-loader</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#css%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-number">5.1.1.</span> <span class="toc-text">css文件处理准备工作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#less-loader"><span class="toc-number">5.2.</span> <span class="toc-text">less-loader</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-number">5.3.</span> <span class="toc-text">图片文件处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#url-loader"><span class="toc-number">5.3.1.</span> <span class="toc-text">url-loader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#file-loader"><span class="toc-number">5.3.2.</span> <span class="toc-text">file-loader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%9B%BE%E7%89%87%E5%90%8D%E7%A7%B0%E5%92%8C%E8%B7%AF%E5%BE%84"><span class="toc-number">5.3.3.</span> <span class="toc-text">修改图片名称和路径</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#babel-loader"><span class="toc-number">5.4.</span> <span class="toc-text">babel-loader</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack%E4%B8%AD%E7%9A%84%E6%8F%92%E4%BB%B6"><span class="toc-number">6.</span> <span class="toc-text">webpack中的插件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%89%88%E6%9D%83%E7%9A%84plugin"><span class="toc-number">6.1.</span> <span class="toc-text">添加版权的plugin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8C%85html%E7%9A%84plugin"><span class="toc-number">6.2.</span> <span class="toc-text">打包html的plugin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack-dev-server"><span class="toc-number">6.3.</span> <span class="toc-text">webpack-dev-server</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#js%E5%8E%8B%E7%BC%A9%E7%9A%84Plugin"><span class="toc-number">6.4.</span> <span class="toc-text">js压缩的Plugin</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E5%8F%91%E5%B8%83"><span class="toc-number">7.</span> <span class="toc-text">打包发布</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEwebpack%E7%9A%84%E6%89%93%E5%8C%85%E5%8F%91%E5%B8%83"><span class="toc-number">7.1.</span> <span class="toc-text">配置webpack的打包发布</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%8AJavaScript%E6%96%87%E4%BB%B6%E7%BB%9F%E4%B8%80%E7%94%9F%E6%88%90%E5%88%B0js%E7%9B%AE%E5%BD%95%E4%B8%AD"><span class="toc-number">7.2.</span> <span class="toc-text">把JavaScript文件统一生成到js目录中</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%8A%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%E7%BB%9F%E4%B8%80%E7%94%9F%E6%88%90%E5%88%B0-image-%E7%9B%AE%E5%BD%95%E4%B8%AD"><span class="toc-number">7.3.</span> <span class="toc-text">把图片文件统一生成到 image 目录中</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E6%B8%85%E7%90%86-dist-%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%97%A7%E6%96%87%E4%BB%B6"><span class="toc-number">7.4.</span> <span class="toc-text">自动清理 dist 目录下的旧文件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Source-Map"><span class="toc-number">8.</span> <span class="toc-text">Source Map</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">8.1.</span> <span class="toc-text">生产环境遇到的问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFSourceMap"><span class="toc-number">8.2.</span> <span class="toc-text">什么是SourceMap</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84-Source-Map"><span class="toc-number">8.2.1.</span> <span class="toc-text">webpack 开发环境下的 Source Map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4Source-Map%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">8.2.2.</span> <span class="toc-text">默认Source Map的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E9%BB%98%E8%AE%A4Source-Map%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">8.2.3.</span> <span class="toc-text">解决默认Source Map的问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84SourceMap"><span class="toc-number">8.3.</span> <span class="toc-text">webpack生产环境下的SourceMap</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AA%E5%AE%9A%E4%BD%8D%E8%A1%8C%E6%95%B0%E4%B8%8D%E6%9A%B4%E9%9C%B2%E6%BA%90%E7%A0%81"><span class="toc-number">8.3.1.</span> <span class="toc-text">只定位行数不暴露源码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%BD%8D%E8%A1%8C%E6%95%B0%E4%B8%94%E6%9A%B4%E9%9C%B2%E6%BA%90%E7%A0%81"><span class="toc-number">8.3.2.</span> <span class="toc-text">定位行数且暴露源码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Source-Map%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">8.4.</span> <span class="toc-text">Source Map最佳实践</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/04/24/Html%E5%9F%BA%E7%A1%80/" title="HTML基础整合"><img src="./themes/butterfly/source/img/4.gif" data-original="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fdn-sdkcnssl.qbox.me%2Farticle%2F4NrDAi2U3w6vlI4hUWHp.png&amp;refer=http%3A%2F%2Fdn-sdkcnssl.qbox.me&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1653464589&amp;t=ace16b4ab08069b51608bbc882c4c0f2" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HTML基础整合"/></a><div class="content"><a class="title" href="/2022/04/24/Html%E5%9F%BA%E7%A1%80/" title="HTML基础整合">HTML基础整合</a><time datetime="2022-04-24T05:02:11.000Z" title="发表于 2022-04-24 13:02:11">2022-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/24/Bootstrap%E6%A1%86%E6%9E%B6%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/" title="Bootstrap框架快速上手"><img src="./themes/butterfly/source/img/4.gif" data-original="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.php.cn%2Fupload%2Farticle%2F000%2F000%2F010%2F58db4a6934691886.jpg&amp;refer=http%3A%2F%2Fimg.php.cn&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1653461401&amp;t=fd0e98648200755c1463b732216bc473" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Bootstrap框架快速上手"/></a><div class="content"><a class="title" href="/2022/04/24/Bootstrap%E6%A1%86%E6%9E%B6%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/" title="Bootstrap框架快速上手">Bootstrap框架快速上手</a><time datetime="2022-04-24T05:02:11.000Z" title="发表于 2022-04-24 13:02:11">2022-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/24/CSS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0(%E4%B8%80)/" title="CSS基础笔记(一)"><img src="./themes/butterfly/source/img/4.gif" data-original="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fbkimg.cdn.bcebos.com%2Fpic%2F9a504fc2d562853529ac54e498ef76c6a6ef63a3&amp;refer=http%3A%2F%2Fbkimg.cdn.bcebos.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1653461797&amp;t=179195cb943628eb03d0858c4e1ab0ed" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CSS基础笔记(一)"/></a><div class="content"><a class="title" href="/2022/04/24/CSS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0(%E4%B8%80)/" title="CSS基础笔记(一)">CSS基础笔记(一)</a><time datetime="2022-04-24T05:02:11.000Z" title="发表于 2022-04-24 13:02:11">2022-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/24/CSS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0(%E4%B8%89)/" title="CSS基础笔记(三)"><img src="./themes/butterfly/source/img/4.gif" data-original="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fbkimg.cdn.bcebos.com%2Fpic%2F9a504fc2d562853529ac54e498ef76c6a6ef63a3&amp;refer=http%3A%2F%2Fbkimg.cdn.bcebos.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1653461797&amp;t=179195cb943628eb03d0858c4e1ab0ed" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CSS基础笔记(三)"/></a><div class="content"><a class="title" href="/2022/04/24/CSS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0(%E4%B8%89)/" title="CSS基础笔记(三)">CSS基础笔记(三)</a><time datetime="2022-04-24T05:02:11.000Z" title="发表于 2022-04-24 13:02:11">2022-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/24/CSS%E8%BF%9B%E9%98%B6%E7%AC%94%E8%AE%B0(%E5%9B%9B)/" title="CSS进阶笔记(四)"><img src="./themes/butterfly/source/img/4.gif" data-original="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fbkimg.cdn.bcebos.com%2Fpic%2F9a504fc2d562853529ac54e498ef76c6a6ef63a3&amp;refer=http%3A%2F%2Fbkimg.cdn.bcebos.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1653461797&amp;t=179195cb943628eb03d0858c4e1ab0ed" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CSS进阶笔记(四)"/></a><div class="content"><a class="title" href="/2022/04/24/CSS%E8%BF%9B%E9%98%B6%E7%AC%94%E8%AE%B0(%E5%9B%9B)/" title="CSS进阶笔记(四)">CSS进阶笔记(四)</a><time datetime="2022-04-24T05:02:11.000Z" title="发表于 2022-04-24 13:02:11">2022-04-24</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By Cat迪</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">感谢光临本网站，有啥不足请指教</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},t.src!==i&&(n.src=i)}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body></html>